From 0aa7c72867abd64027e6841d3846313bb53d4ee5 Mon Sep 17 00:00:00 2001
From: wjyrich <1071633242@qq.com>
Date: Mon, 26 Feb 2024 16:59:50 +0800
Subject: [PATCH] install

---
 assistantQt/assistantQt.pro | 9 ++++++++-
 gui/kg-assistantqt.desktop  | 4 ++--
 2 files changed, 10 insertions(+), 3 deletions(-)

diff --git a/assistantQt/assistantQt.pro b/assistantQt/assistantQt.pro
index eb3d1fe..c56b414 100644
--- a/assistantQt/assistantQt.pro
+++ b/assistantQt/assistantQt.pro
@@ -35,8 +35,15 @@ FORMS += \
 
 # Default rules for deployment.
 qnx: target.path = /tmp/$${TARGET}/bin
-else: unix:!android: target.path = /opt/$${TARGET}/bin
+else: unix:!android: #target.path = /opt/$${TARGET}/bin
 !isEmpty(target.path): INSTALLS += target
 
+target.path =$$PREFIX/bin
+desktop.files =../gui/kg-assistantqt.desktop
+desktop.path = $$PREFIX/share/applications/
+icons.path = $$PREFIX/share/icons
+icons.files = ../gui/kg-assistantqt.png
+INSTALLS += target desktop icons
+
 RESOURCES += \
     data/resources.qrc
diff --git a/gui/kg-assistantqt.desktop b/gui/kg-assistantqt.desktop
index 2e37d16..9335190 100644
--- a/gui/kg-assistantqt.desktop
+++ b/gui/kg-assistantqt.desktop
@@ -4,8 +4,8 @@ Name=AssistantQt
 GenericName=AssistantQt
 Comment=AssistantQt open source gui for console application Assistant
 Keywords=utils
-Exec=kg-assistantqt
-Icon=${SNAP}/images/kg-assistantqt.png
+Exec=assistantQt
+Icon=kg-assistantqt
 Terminal=false
 Type=Application
 Categories=Utility;
-- 
2.33.1

