package:
  id: io.github.mkcron
  name: mkcron
  version: 1.2.2
  kind: app
  description: |
    Simple cron schedule expression editor for Linux Desktop

runtime:
  id: org.deepin.Runtime
  version: 23.0.0

depends:
  - id: qthttpserver
    type: runtime
    version: 1.0.0
    source:
      kind: git
      url: https://github.com/qt-labs/qthttpserver.git
      version: master
      commit: 52bce52413763ead7759f8c2e374a40bb82f058f
    build:
      kind: qmake
  - id: qtwebengine/5.15.7
    type: runtime

source:
  kind: git
  url: https://github.com/keshavbhatt/mkcron.git
  commit: 2896b5c12f0470da0227758226852f2789beb38c
  patch: patches/0001-install.patch

build:
  kind: qmake
  manual:
    configure: |
      cp snap/gui/icon.png snap/gui/MkCron.png
      cd src
      qmake -makefile  ${conf_args} ${extra_args}
    build: |
      make ${jobs}
    install: |
      make ${jobs} DESTDIR=${dest_dir} install